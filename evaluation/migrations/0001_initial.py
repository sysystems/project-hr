# Generated by Django 4.2.7 on 2025-09-20 12:31

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='EvaluationTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='템플릿명')),
                ('description', models.TextField(blank=True, verbose_name='설명')),
                ('evaluation_items', models.JSONField(verbose_name='평가항목')),
                ('max_score', models.DecimalField(decimal_places=1, default=5.0, max_digits=3, verbose_name='최고점수')),
                ('min_score', models.DecimalField(decimal_places=1, default=1.0, max_digits=3, verbose_name='최저점수')),
                ('weight_total', models.DecimalField(decimal_places=1, default=100.0, max_digits=4, verbose_name='가중치합계')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('is_default', models.BooleanField(default=False, verbose_name='기본템플릿')),
            ],
            options={
                'verbose_name': '평가 템플릿',
                'verbose_name_plural': '평가 템플릿들',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='OneOnOneMeeting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('meeting_date', models.DateField(verbose_name='면담일')),
                ('meeting_type', models.CharField(choices=[('정기면담', '정기면담'), ('상황면담', '상황면담'), ('성과면담', '성과면담'), ('경력면담', '경력면담')], default='정기면담', max_length=20, verbose_name='면담유형')),
                ('agenda', models.TextField(verbose_name='안건')),
                ('discussion_points', models.JSONField(blank=True, default=list, verbose_name='논의사항')),
                ('action_items', models.JSONField(blank=True, default=list, verbose_name='액션아이템')),
                ('key_takeaways', models.TextField(blank=True, verbose_name='주요내용')),
                ('follow_up_date', models.DateField(blank=True, null=True, verbose_name='후속면담일')),
                ('follow_up_items', models.JSONField(blank=True, default=list, verbose_name='후속사항')),
                ('status', models.CharField(choices=[('예정', '예정'), ('진행중', '진행중'), ('완료', '완료'), ('취소', '취소')], default='예정', max_length=20, verbose_name='상태')),
                ('notes', models.TextField(blank=True, verbose_name='비고')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='one_on_one_as_employee', to=settings.AUTH_USER_MODEL, verbose_name='직원')),
                ('manager', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='one_on_one_as_manager', to=settings.AUTH_USER_MODEL, verbose_name='매니저')),
            ],
            options={
                'verbose_name': '1 on 1 면담',
                'verbose_name_plural': '1 on 1 면담들',
                'ordering': ['-meeting_date'],
            },
        ),
        migrations.CreateModel(
            name='Goal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='목표제목')),
                ('description', models.TextField(verbose_name='목표설명')),
                ('goal_type', models.CharField(choices=[('업무', '업무 목표'), ('개인', '개인 목표'), ('발전', '발전 목표'), ('조직', '조직 목표')], default='업무', max_length=20, verbose_name='목표유형')),
                ('priority', models.CharField(choices=[('높음', '높음'), ('중간', '중간'), ('낮음', '낮음')], default='중간', max_length=10, verbose_name='우선순위')),
                ('start_date', models.DateField(verbose_name='시작일')),
                ('target_date', models.DateField(verbose_name='목표일')),
                ('completed_date', models.DateField(blank=True, null=True, verbose_name='완료일')),
                ('success_criteria', models.TextField(verbose_name='성공기준')),
                ('measurement_method', models.TextField(blank=True, verbose_name='측정방법')),
                ('progress', models.IntegerField(default=0, verbose_name='진행률')),
                ('status', models.CharField(choices=[('진행중', '진행중'), ('완료', '완료'), ('보류', '보류'), ('취소', '취소')], default='진행중', max_length=20, verbose_name='상태')),
                ('result', models.TextField(blank=True, verbose_name='결과')),
                ('achievement_level', models.CharField(blank=True, choices=[('초과달성', '초과달성'), ('달성', '달성'), ('부분달성', '부분달성'), ('미달성', '미달성')], max_length=20, verbose_name='달성도')),
                ('notes', models.TextField(blank=True, verbose_name='비고')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='goals', to=settings.AUTH_USER_MODEL, verbose_name='직원')),
                ('manager', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='managed_goals', to=settings.AUTH_USER_MODEL, verbose_name='매니저')),
            ],
            options={
                'verbose_name': '목표',
                'verbose_name_plural': '목표들',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Feedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feedback_type', models.CharField(choices=[('칭찬', '칭찬'), ('개선', '개선사항'), ('제안', '제안사항'), ('고객피드백', '고객피드백'), ('기타', '기타')], default='칭찬', max_length=20, verbose_name='피드백유형')),
                ('title', models.CharField(max_length=200, verbose_name='제목')),
                ('content', models.TextField(verbose_name='내용')),
                ('situation', models.TextField(blank=True, verbose_name='상황설명')),
                ('impact', models.TextField(blank=True, verbose_name='영향도')),
                ('priority', models.CharField(choices=[('높음', '높음'), ('중간', '중간'), ('낮음', '낮음')], default='중간', max_length=10, verbose_name='중요도')),
                ('is_anonymous', models.BooleanField(default=False, verbose_name='익명')),
                ('is_read', models.BooleanField(default=False, verbose_name='읽음')),
                ('requires_action', models.BooleanField(default=False, verbose_name='조치필요')),
                ('action_taken', models.TextField(blank=True, verbose_name='조치내용')),
                ('action_date', models.DateField(blank=True, null=True, verbose_name='조치일')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='작성일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_feedback', to=settings.AUTH_USER_MODEL, verbose_name='수신자')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sent_feedback', to=settings.AUTH_USER_MODEL, verbose_name='발신자')),
            ],
            options={
                'verbose_name': '피드백',
                'verbose_name_plural': '피드백들',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EvaluationPeriod',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='평가명')),
                ('year', models.IntegerField(verbose_name='년도')),
                ('period_type', models.CharField(choices=[('상반기', '상반기'), ('하반기', '하반기'), ('연간', '연간'), ('분기', '분기'), ('월간', '월간')], default='상반기', max_length=20, verbose_name='평가유형')),
                ('start_date', models.DateField(verbose_name='평가시작일')),
                ('end_date', models.DateField(verbose_name='평가종료일')),
                ('evaluation_start', models.DateField(verbose_name='평가시작일')),
                ('evaluation_end', models.DateField(verbose_name='평가종료일')),
                ('is_active', models.BooleanField(default=True, verbose_name='활성화')),
                ('description', models.TextField(blank=True, verbose_name='설명')),
            ],
            options={
                'verbose_name': '평가 기간',
                'verbose_name_plural': '평가 기간들',
                'ordering': ['-year', '-start_date'],
                'unique_together': {('year', 'period_type')},
            },
        ),
        migrations.CreateModel(
            name='Evaluation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('scores', models.JSONField(verbose_name='점수')),
                ('comments', models.JSONField(verbose_name='코멘트')),
                ('strengths', models.TextField(blank=True, verbose_name='강점')),
                ('improvements', models.TextField(blank=True, verbose_name='개선사항')),
                ('overall_score', models.DecimalField(blank=True, decimal_places=1, max_digits=3, null=True, verbose_name='종합점수')),
                ('overall_grade', models.CharField(blank=True, choices=[('S', 'S 등급'), ('A', 'A 등급'), ('B', 'B 등급'), ('C', 'C 등급'), ('D', 'D 등급')], max_length=10, verbose_name='종합등급')),
                ('goals', models.JSONField(blank=True, default=list, verbose_name='목표')),
                ('development_plan', models.TextField(blank=True, verbose_name='발전계획')),
                ('status', models.CharField(choices=[('작성중', '작성중'), ('제출', '제출완료'), ('검토중', '검토중'), ('확정', '확정'), ('공유', '공유완료')], default='작성중', max_length=20, verbose_name='상태')),
                ('submitted_at', models.DateTimeField(blank=True, null=True, verbose_name='제출일시')),
                ('reviewed_at', models.DateTimeField(blank=True, null=True, verbose_name='검토일시')),
                ('confirmed_at', models.DateTimeField(blank=True, null=True, verbose_name='확정일시')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='생성일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='evaluations', to=settings.AUTH_USER_MODEL, verbose_name='피평가자')),
                ('evaluation_period', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='evaluation.evaluationperiod', verbose_name='평가기간')),
                ('evaluator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='given_evaluations', to=settings.AUTH_USER_MODEL, verbose_name='평가자')),
                ('template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='evaluation.evaluationtemplate', verbose_name='평가템플릿')),
            ],
            options={
                'verbose_name': '성과 평가',
                'verbose_name_plural': '성과 평가들',
                'ordering': ['-evaluation_period__start_date'],
                'unique_together': {('employee', 'evaluator', 'evaluation_period')},
            },
        ),
    ]
